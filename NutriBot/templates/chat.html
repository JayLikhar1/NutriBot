{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
{% endblock %}

{% block content %}
<div class="chat-container">
    <div class="chat-header">
        <h1>Your Personal Diet Assistant</h1>
        <p>Let's create your personalized diet plan</p>
    </div>

    <div class="chat-messages" id="chat-messages">
        <div class="message bot">
            <div class="message-content">
                <p>ðŸ‘‹ Hi! I'm your personal diet assistant. Let's create a customized diet plan for you.</p>
                <p>First, I need to know a few things about you.</p>
            </div>
        </div>
    </div>

    <form id="diet-form" class="chat-form">
        <div class="form-step active" data-step="1">
            <div class="input-group">
                <label for="age">What's your age?</label>
                <input type="number" id="age" name="age" min="12" max="99" required>
            </div>
            <button type="button" class="btn-next">Next</button>
        </div>

        <div class="form-step" data-step="2">
            <div class="input-group">
                <label for="weight">What's your weight in kg?</label>
                <input type="number" id="weight" name="weight" min="20" max="300" step="0.1" required>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="button" class="btn-next">Next</button>
            </div>
        </div>

        <div class="form-step" data-step="3">
            <div class="input-group">
                <label for="height">What's your height in cm?</label>
                <input type="number" id="height" name="height" min="100" max="250" required>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="button" class="btn-next">Next</button>
            </div>
        </div>

        <div class="form-step" data-step="4">
            <div class="input-group">
                <label>What's your gender?</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="gender" value="male" required>
                        <span>Male</span>
                    </label>
                    <label>
                        <input type="radio" name="gender" value="female">
                        <span>Female</span>
                    </label>
                </div>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="button" class="btn-next">Next</button>
            </div>
        </div>

        <div class="form-step" data-step="5">
            <div class="input-group">
                <label>What's your activity level?</label>
                <div class="radio-group vertical">
                    <label>
                        <input type="radio" name="activity_level" value="sedentary" required>
                        <span>Sedentary (little to no exercise)</span>
                    </label>
                    <label>
                        <input type="radio" name="activity_level" value="lightly_active">
                        <span>Lightly Active (light exercise 1-3 days/week)</span>
                    </label>
                    <label>
                        <input type="radio" name="activity_level" value="moderately_active">
                        <span>Moderately Active (moderate exercise 3-5 days/week)</span>
                    </label>
                    <label>
                        <input type="radio" name="activity_level" value="very_active">
                        <span>Very Active (hard exercise 6-7 days/week)</span>
                    </label>
                    <label>
                        <input type="radio" name="activity_level" value="extra_active">
                        <span>Extra Active (very hard exercise & physical job)</span>
                    </label>
                </div>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="button" class="btn-next">Next</button>
            </div>
        </div>

        <div class="form-step" data-step="6">
            <div class="input-group">
                <label>What's your main goal?</label>
                <div class="radio-group vertical">
                    <label>
                        <input type="radio" name="goal" value="weight_loss" required>
                        <span>Lose Weight</span>
                    </label>
                    <label>
                        <input type="radio" name="goal" value="muscle_gain">
                        <span>Gain Muscle</span>
                    </label>
                    <label>
                        <input type="radio" name="goal" value="maintenance">
                        <span>Maintain Weight</span>
                    </label>
                </div>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="button" class="btn-next">Next</button>
            </div>
        </div>

        <div class="form-step" data-step="7">
            <div class="input-group">
                <label>What's your dietary preference?</label>
                <div class="radio-group vertical">
                    <label>
                        <input type="radio" name="dietary_preference" value="none" required>
                        <span>No Specific Preference</span>
                    </label>
                    <label>
                        <input type="radio" name="dietary_preference" value="vegetarian">
                        <span>Vegetarian</span>
                    </label>
                    <label>
                        <input type="radio" name="dietary_preference" value="vegan">
                        <span>Vegan</span>
                    </label>
                    <label>
                        <input type="radio" name="dietary_preference" value="nonveg">
                        <span>Non-Vegetarian</span>
                    </label>
                </div>
            </div>
            <div class="button-group">
                <button type="button" class="btn-prev">Previous</button>
                <button type="submit" class="btn-submit">Generate Plan</button>
            </div>
        </div>
    </form>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loading-overlay">
    <div class="loading-spinner"></div>
    <p>Generating your personalized plan...</p>
</div>

<!-- Notification Area -->
<div class="notification-area" id="notification-area"></div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %} 